<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>How to integrate umami to your website for free</title>
<meta charset=utf-8><meta name=description content="Ladder@This article is about how to integrate umami website analytics to your website for free. The database use  postgres with 500M storage limit provided by supabase.
The umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard."><meta name=author content="Guangzheng Li"><link rel=canonical href=https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/><meta name=google-site-verification content="RL6kP6-6yjRPyYGLeqBQ2JIX6QQAz7A6gHZb7bHlZnU"><link rel=alternate type=application/rss+xml href=https://guangzhengli.com//index.xml title=GuangzhengLi><script async src="https://www.googletagmanager.com/gtag/js?id=G-7E4JNTL3ES"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7E4JNTL3ES",{anonymize_ip:!1})}</script><script async defer data-website-id=24349452-bff6-4e96-93bf-6c764e191b26 src=https://umami-ochre-nu.vercel.app/hugo-ladder.js></script><meta property="og:title" content="How to integrate umami to your website for free"><meta property="og:description" content="This article is about how to integrate umami website analytics to your website for free. The database use  postgres with 500M storage limit provided by supabase.
The umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard."><meta property="og:type" content="article"><meta property="og:url" content="https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-08-14T21:34:36+08:00"><meta property="article:modified_time" content="2022-08-14T21:34:36+08:00"><meta property="og:see_also" content="https://guangzhengli.com/en/blog/en/how-to-create-your-blog-for-free-by-hugo-ladder-in-30min/"><meta property="og:see_also" content="https://guangzhengli.com/en/blog/en/how-to-create-your-blog-for-free-in-10min/"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to integrate umami to your website for free"><meta name=twitter:description content="This article is about how to integrate umami website analytics to your website for free. The database use  postgres with 500M storage limit provided by supabase.
The umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://guangzhengli.com/en/blog/"},{"@type":"ListItem","position":2,"name":"How to integrate umami to your website for free","item":"https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to integrate umami to your website for free","name":"How to integrate umami to your website for free","description":"This article is about how to integrate umami website analytics to your website for free. The database use postgres with 500M storage limit provided by supabase.\nThe umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard.\n","keywords":["hugo","ladder","Tutorial","analytics","umami"],"articleBody":"This article is about how to integrate umami website analytics to your website for free. The database use postgres with 500M storage limit provided by supabase.\nThe umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard.\nCreate a database The database use postgres with 500M storage limit provided by supabase. You can create a supabase account, click new project, and enter the database passowrd to create an ProgresSQL database service.\nIt will take a few minutes to create the database service, and you can get the DATABASE_URL after it’s done.\nHosting umami The umami service is hosted with vercel, Once you have created the database instance, you can deploy the umami service with click deploy button in the Running on Vercel document.\nFork the https://github.com/mikecao/umami project to your GitHub account.\nCreate an account on Vercel.\nFrom the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.\nAdd the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.\nDATABASE_URL: Connection string for your database. This is the only required variable. TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default umami. This is to help you avoid some ad-blockers. I used hugo-ladder on this project. Enter yarn build \u0026\u0026 yarn update-db to the BUILD COMMAND, which will migrate the tables of umami to database automatically.\nDeploy and visit your application at .vercel.app.\nFollow the Getting started guide starting from the Login step and be sure to change the default password.\nOf course, if you want to import tables yourself, you can also get the tables from here https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql.\numami configuration After deploying umami in vercel you will get a .vercel.app address which login with the default account: admin and password: umami.\nYou can change the default password and Add webiste, enter the Name and Domain, and click enable share URL so that anyone can access the dashboard.\nThen you can get data-website-id and src values by click Get tracking code，enter the value to the hugo-ladder configuration params.analytics.umami.website_id , params.analytics.umami.url.\nIn the end, you can get the website statistics analytics dashboard.🎉🎉🎉\n","wordCount":"387","inLanguage":"en","datePublished":"2022-08-14T21:34:36+08:00","dateModified":"2022-08-14T21:34:36+08:00","author":{"@type":"Person","name":"Guangzheng Li"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/"},"publisher":{"@type":"Organization","name":"GuangzhengLi","logo":{"@type":"ImageObject","url":"https://guangzhengli.com/favicon.ico"}}}</script><link rel=icon href=/images/avatar.ico sizes=16x16><link rel=apple-touch-icon href=/images/avatar.ico><link rel=manifest href=/images/avatar.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.ff1bc260fafbfb440e10194d7d06d57eb5e85eed11d12d06255581262664204e.css integrity="sha256-/xvCYPr7+0QOEBlNfQbVfrXoXu0R0S0GJVWBJiZkIE4=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.894ca9c68afab956438c4926a0dc7f5293e04e08595bd27abdb123e94801f684.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/en>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/en/blog>Blog</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/en/art>Life</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/en/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/en/guestbook>Guestbook</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=https://analytics.guangzhengli.com/share/o3zAba1V/guangzhengli>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/guangzhengli><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://twitter.com/iguangzhengli><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://guangzhengli.com/>中</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>How to integrate umami to your website for free</h1></header><p><small>August 14, 2022&nbsp;· 387 words&nbsp;· 2 min</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#create-a-database>Create a database</a></li><li><a href=#hosting-umami>Hosting umami</a></li><li><a href=#umami-configuration>umami configuration</a></li></ul></nav></div><section class=blog-content><p>This article is about how to integrate <a href=https://umami.is/>umami</a> website analytics to your website for free. The database use <a href=https://supabase.com/docs/guides/database>postgres</a> with 500M storage limit provided by <a href=https://app.supabase.com/>supabase</a>.</p><p>The <a href=https://umami.is/>umami</a> service is hosted with <a href=https://vercel.com/>vercel</a>. Thanks to the excellent service capabilities of cloud vendors, you can integrate <em>umami</em> in less than 10 minutes. You can see the umami dashboard by clicking the <a href=https://umami-ochre-nu.vercel.app/share/o3zAba1V/guangzhengli>Dashboard</a>.</p><h2 id=create-a-database>Create a database</h2><p>The database use <a href=https://supabase.com/docs/guides/database>postgres</a> with 500M storage limit provided by <a href=https://app.supabase.com/>supabase</a>. You can create a supabase account, click <code>new project</code>, and enter the database passowrd to create an ProgresSQL database service.</p><p><img src=https://storage.guangzhengli.com/images/WWmfTm.jpg alt=WWmfTm></p><p>It will take a few minutes to create the database service, and you can get the <code>DATABASE_URL</code> after it&rsquo;s done.</p><p><img src=https://storage.guangzhengli.com/images/hvpSuQ.jpg alt=hvpSuQ></p><h2 id=hosting-umami>Hosting umami</h2><p>The <a href=https://umami.is/>umami</a> service is hosted with <a href=https://vercel.com/>vercel</a>, Once you have created the database instance, you can deploy the umami service with click deploy button in the <a href=https://umami.is/docs/running-on-vercel>Running on Vercel</a> document.</p><ol><li><p>Fork the <a href=https://github.com/mikecao/umami>https://github.com/mikecao/umami</a> project to your GitHub account.</p></li><li><p>Create an account on Vercel.</p></li><li><p>From the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.</p></li><li><p>Add the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.</p><ol><li>DATABASE_URL: Connection string for your database. This is the only required variable.</li><li>TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default <code>umami</code>. This is to help you avoid some ad-blockers. I used <code>hugo-ladder</code> on this project.</li></ol></li><li><p>Enter <code>yarn build && yarn update-db</code> to the <code>BUILD COMMAND</code>, which will migrate the tables of umami to database automatically.</p></li><li><p>Deploy and visit your application at .vercel.app.</p></li><li><p>Follow the Getting started guide starting from the Login step and be sure to change the default password.</p></li></ol><p><img src=https://storage.guangzhengli.com/images/rtIZCn.jpg alt=rtIZCn></p><p>Of course, if you want to import tables yourself, you can also get the tables from here <a href=https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql>https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql</a>.</p><h2 id=umami-configuration>umami configuration</h2><p>After deploying umami in vercel you will get a <code>&lt;deploy-id>.vercel.app</code> address which login with the default account: <em>admin</em> and password: <em>umami</em>.</p><p>You can change the default password and <code>Add webiste</code>, enter the <code>Name</code> and <code>Domain</code>, and click <code>enable share URL</code> so that anyone can access the dashboard.</p><p>Then you can get <code>data-website-id</code> and <code>src</code> values by click <code>Get tracking code</code>，enter the value to the <code>hugo-ladder</code> configuration <code>params.analytics.umami.website_id</code> , <code>params.analytics.umami.url</code>.</p><p><img src=https://storage.guangzhengli.com/images/YLRdbm.jpg alt=YLRdbm></p><p>In the end, you can get the website statistics analytics dashboard.🎉🎉🎉</p></section><div class=paginator><a class=next href=https://guangzhengli.com/en/blog/en/how-to-create-your-blog-for-free-by-hugo-ladder-in-30min/><span>How to create your blog by hugo ladder in 30min</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div><div class=related-resources><h3>Related Resources</h3><nav><ul><li><a href=/en/blog/en/how-to-create-your-blog-for-free-by-hugo-ladder-in-30min/>How to create your blog by hugo ladder in 30min</a></li><li><a href=/en/blog/en/how-to-create-your-blog-for-free-in-10min/>How to create your blog for free in 10min</a></li></ul></nav></div><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","guangzhengli/blog-comments"),s.setAttribute("data-repo-id","R_kgDOHtsjNw"),s.setAttribute("data-category","Announcements"),s.setAttribute("data-category-id","DIC_kwDOHtsjN84CQr99"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","top"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","en"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></div><footer class=footer><p>&copy; 2023 <a href=https://guangzhengli.com/>GuangzhengLi</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg></a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>